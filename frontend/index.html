<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ¾ Hyena â€” Financial Document Intelligence</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/components.css" />
</head>
<body class="light">

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â• -->
<header class="topbar">
  <div class="topbar-left">
    <span class="logo">ğŸ¾ HYENA</span>
    <span class="tagline">Financial Document Intelligence</span>
  </div>
  <div class="topbar-right">
    <button class="btn-icon" id="btn-upload-header" title="Upload PDF">
      <svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
      Upload
    </button>
    <button class="btn-icon" id="btn-theme" title="Toggle theme">ğŸŒ™</button>
    <div id="system-status" class="status-dot dot-checking" title="Checking system..."></div>
  </div>
</header>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â• -->
<main class="layout">

  <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SIDEBAR â”€â”€â”€ -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <span>ğŸ“ Documents</span>
      <button class="btn-sm" id="btn-upload-sidebar">+ Upload</button>
    </div>

    <div class="filter-bar">
      <select id="filter-company">
        <option value="">All companies</option>
      </select>
      <select id="filter-year">
        <option value="">All years</option>
      </select>
    </div>

    <div id="doc-list" class="doc-list">
      <div class="empty-state">No documents yet.<br/>Upload a PDF to start.</div>
    </div>
  </aside>

  <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CHAT â”€â”€â”€ -->
  <section class="chat-panel">
    <div id="chat-messages" class="chat-messages">
      <div class="welcome-msg">
        <h2>ğŸ‘‹ ChÃ o má»«ng Ä‘áº¿n vá»›i Hyena</h2>
        <p>Upload bÃ¡o cÃ¡o tÃ i chÃ­nh PDF vÃ  Ä‘áº·t cÃ¢u há»i báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn.</p>
        <div class="example-queries">
          <button class="example-btn" data-q="BiÃªn lá»£i nhuáº­n gá»™p thay Ä‘á»•i tháº¿ nÃ o trong 3 nÄƒm qua?">BiÃªn lá»£i nhuáº­n gá»™p thay Ä‘á»•i tháº¿ nÃ o trong 3 nÄƒm qua?</button>
          <button class="example-btn" data-q="Doanh thu Q4 2025 lÃ  bao nhiÃªu?">Doanh thu Q4 2025 lÃ  bao nhiÃªu?</button>
          <button class="example-btn" data-q="So sÃ¡nh chi phÃ­ hoáº¡t Ä‘á»™ng giá»¯a cÃ¡c nÄƒm">So sÃ¡nh chi phÃ­ hoáº¡t Ä‘á»™ng giá»¯a cÃ¡c nÄƒm</button>
        </div>
      </div>
    </div>

    <div class="chat-input-area">
      <div class="chat-filters">
        <select id="chat-company" title="Filter by company">
          <option value="">All companies</option>
        </select>
        <select id="chat-year" title="Filter by year">
          <option value="">All years</option>
        </select>
      </div>
      <div class="chat-input-row">
        <textarea id="chat-input" placeholder="Äáº·t cÃ¢u há»i vá» tÃ i liá»‡u..." rows="1"></textarea>
        <button id="btn-send" class="btn-send" title="Send (Enter)">
          <svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
        </button>
      </div>
      <div class="chat-hint">Enter to send Â· Shift+Enter for new line</div>
    </div>
  </section>

</main>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SOURCE VIEWER â•â• -->
<div id="source-viewer" class="source-viewer hidden">
  <div class="source-viewer-header">
    <span id="source-viewer-title">ğŸ“ Sources</span>
    <button id="btn-close-sources">âœ•</button>
  </div>
  <div id="source-viewer-content" class="source-viewer-content"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• UPLOAD MODAL â•â• -->
<div id="upload-modal" class="modal hidden">
  <div class="modal-backdrop" id="modal-backdrop"></div>
  <div class="modal-box">
    <div class="modal-header">
      <h3>ğŸ“„ Upload PDF</h3>
      <button id="btn-close-modal">âœ•</button>
    </div>

    <div id="drop-zone" class="drop-zone">
      <div class="drop-zone-inner">
        <svg viewBox="0 0 24 24" class="drop-icon"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
        <p>KÃ©o tháº£ PDF vÃ o Ä‘Ã¢y</p>
        <span>hoáº·c</span>
        <label class="btn-primary btn-sm file-label">
          Chá»n file
          <input type="file" id="file-input" accept=".pdf" hidden />
        </label>
      </div>
    </div>

    <div id="upload-form" class="upload-form hidden">
      <div id="selected-file" class="selected-file"></div>
      <div class="form-row">
        <label>CÃ´ng ty *</label>
        <input type="text" id="input-company" placeholder="Vinamilk" required />
      </div>
      <div class="form-row">
        <label>NÄƒm *</label>
        <input type="number" id="input-year" placeholder="2025" min="2000" max="2030" required />
      </div>
      <div class="form-row">
        <label>QuÃ½</label>
        <select id="input-quarter">
          <option value="">Cáº£ nÄƒm</option>
          <option value="Q1">Q1</option>
          <option value="Q2">Q2</option>
          <option value="Q3">Q3</option>
          <option value="Q4">Q4</option>
        </select>
      </div>
      <div class="form-actions">
        <button id="btn-cancel-upload" class="btn-secondary">Huá»·</button>
        <button id="btn-submit-upload" class="btn-primary">ğŸš€ Upload & Process</button>
      </div>
    </div>

    <div id="upload-progress" class="upload-progress hidden">
      <div class="progress-icon">â³</div>
      <p id="upload-status-text">Äang upload...</p>
      <div class="progress-bar-wrap"><div id="progress-bar" class="progress-bar"></div></div>
      <p id="upload-doc-id" class="upload-doc-id"></p>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TOAST â•â• -->
<div id="toast-container" class="toast-container"></div>

<script src="js/utils.js"></script>
<script src="js/api.js"></script>
<script src="js/upload.js"></script>
<script src="js/chat.js"></script>
<script src="js/app.js"></script>
</body>
</html>
